"""
Configuration Template for PR Review System
Copy this to config.py and fill in your credentials
"""
import os
from dotenv import load_dotenv

load_dotenv()


class Config:
    """Configuration settings - EDIT THIS FILE WITH YOUR CREDENTIALS"""

    # ========================================
    # AI CONFIGURATION (REQUIRED)
    # ========================================
    
    # Your AI API Key
    AI_API_KEY = 'your_api_key_here'  # Replace with your actual key
    
    # API Base URL (your AI provider's base URL)
    # Examples:
    # - OpenAI: 'https://api.openai.com/v1'
    # - Other OpenAI-compatible providers: Use your provider's base URL
    AI_BASE_URL = 'your_provider_base_url'

    # Model name (use your AI provider's model name)
    # Examples: 'gpt-4o-mini', 'claude-3-5-sonnet-20241022', etc.
    AI_MODEL = 'your_model_name'

    # Temperature (0.0-1.0, lower = more deterministic)
    AI_TEMPERATURE = 0.1
    
    # ========================================
    # GIT PLATFORM AUTHENTICATION (OPTIONAL)
    # ========================================

    # Personal Access Token for Private Repositories
    # GitLab: https://gitlab.com/-/profile/personal_access_tokens
    # GitHub: https://github.com/settings/tokens
    # Bitbucket: https://bitbucket.org/account/settings/app-passwords/
    GITHUB_TOKEN = ''  # Also used for GitLab and other platforms - leave empty for public repos
    
    # ========================================
    # REPOSITORY SETTINGS
    # ========================================
    
    TEMP_REPO_DIR = 'temp_repos'
    MAX_FILE_SIZE = 100000  # 100KB
    SUPPORTED_EXTENSIONS = [
        '.py', '.js', '.ts', '.java', '.cpp', '.c', '.go',
        '.rb', '.php', '.swift', '.kt', '.rs', '.scala'
    ]
    
    # ========================================
    # HELPER METHODS (DO NOT EDIT)
    # ========================================
    
    @classmethod
    def get_ai_api_key(cls):
        return cls.AI_API_KEY
    
    @classmethod
    def get_ai_model(cls):
        return cls.AI_MODEL
    
    @classmethod
    def get_ai_temperature(cls):
        return cls.AI_TEMPERATURE
    
    @classmethod
    def get_ai_base_url(cls):
        if cls.AI_BASE_URL:
            return cls.AI_BASE_URL
        return None
    
    @classmethod
    def validate(cls):
        if not cls.get_ai_api_key() or cls.get_ai_api_key() == 'your_api_key_here':
            raise ValueError("AI_API_KEY must be configured in config.py")
    
    @classmethod
    def get_config_dict(cls):
        return {
            'ai_api_key': '***' + cls.get_ai_api_key()[-4:] if cls.get_ai_api_key() else None,
            'ai_model': cls.get_ai_model(),
            'ai_temperature': cls.get_ai_temperature(),
            'ai_base_url': cls.get_ai_base_url(),
            'github_token': 'configured' if cls.GITHUB_TOKEN else 'not set',
            'temp_repo_dir': cls.TEMP_REPO_DIR,
            'max_file_size': cls.MAX_FILE_SIZE
        }


# Instructions:
# 1. Copy this file to config.py:
#    cp config.py.template config.py
#
# 2. Edit config.py and add your credentials
#
# 3. config.py is in .gitignore - it won't be committed
